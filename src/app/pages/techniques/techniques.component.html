<button mat-button class="show-btn" (click)="showStepper = !showStepper"> Add new technique </button>

<div class="steper-container" *ngIf="showStepper">
  <div [formGroup]="mainFormGroup">
    <ng-container *ngFor="let __ of [mainFormGroup]">
      <mat-stepper orientation="vertical" formArrayName="stepData"
                   [selectedIndex]="currentStep">
        <mat-step *ngFor="let stepForm of getControls(); let i = index"
                  [stepControl]="stepForm">
          <form [formGroup]="mainFormGroup" formGroupName="{{i}}">
            <ng-template matStepLabel> {{ i + 1 }} Step</ng-template>
            <mat-form-field class="step-ff">
              <mat-label>Name</mat-label>
              <input matInput formControlName="name" placeholder="Name"/>
            </mat-form-field>
            <mat-form-field class="step-ff">
              <mat-label>Description</mat-label>
              <input matInput formControlName="desc" placeholder="Description"/>
            </mat-form-field>
            <div class="button-container">
              <button mat-button class="step-btn" matStepperNext (click)="addInput(i)">Add step</button>
              <button mat-button class="step-btn" (click)="delInput(i)">Delete</button>
              <button mat-button class="step-btn"  (click)="submit()">Submit</button>
            </div>
          </form>
        </mat-step>
      </mat-stepper>
    </ng-container>
  </div>
</div>
